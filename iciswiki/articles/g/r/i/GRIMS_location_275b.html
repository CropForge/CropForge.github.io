<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.14.0" />
		<meta name="keywords" content="GRIMS location,GRIMS,GRIMS discussion" />
		<link rel="shortcut icon" href="../../../../misc/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="../../../../../opensearch_desc.php" title="ICISWiki (en)" />
		<link title="Creative Commons" type="application/rdf+xml" href="../../../../articles/g/r/i/GRIMS_location_275b.html" rel="alternate meta" />
		<link rel="copyright" href="../../../../../COPYING.html" />
		<link rel="alternate" type="application/rss+xml" title="ICISWiki RSS Feed" href="http://localhost../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" />
		<link rel="alternate" type="application/atom+xml" title="ICISWiki Atom Feed" href="http://localhost../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" />
		<title>GRIMS location - ICISWiki</title>
		<link rel="stylesheet" href="../../../../skins/common/shared.css?195" type="text/css" media="screen" />
		<link rel="stylesheet" href="../../../../skins/common/commonPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="../../../../skins/monobook/main.css?195" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="../../../../skins/monobook/IE50Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="../../../../skins/monobook/IE55Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="../../../../skins/monobook/IE60Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="../../../../skins/monobook/IE70Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7ECommon.css?195" type="text/css" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7EPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7EMonobook.css?195" type="text/css" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/gen.css?195" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="../../../../skins/common/IEFixes.js?195"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "../../../../skins";
		var wgArticlePath = "../../../../$1";
		var wgScriptPath = "../../../../..";
		var wgScript = "/icis/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://localhost";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "GRIMS_location";
		var wgTitle = "GRIMS location";
		var wgAction = "view";
		var wgArticleId = "3202";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = "15256";
		var wgVersion = "1.14.0";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="../../../../skins/common/wikibits.js?195"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="../../../../raw/gen.js"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-GRIMS_location skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">GRIMS location</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From ICISWiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p align="center">
<a href="../../../../articles/g/r/i/GRIMS_927c.html" title="GRIMS"> GRIMS main</a> &gt;  <a href="../../../../articles/g/r/i/GRIMS_discussion_493a.html" title="GRIMS discussion"> GRIMS Issues and Solutions</a>
<b></p><hr /></b>
<p><br />
</p>
<h1><p align="center">
<font size="6"><a href="http://cropwiki.irri.org/icis/images/0/03/GRC_Location_Data_by_NRSH.pdf" class="external text" title="http://cropwiki.irri.org/icis/images/0/03/GRC_Location_Data_by_NRSH.pdf" rel="nofollow"><b>GRC Location data&nbsp;: Current status and next steps</b></a></font>
</p>
</h1>
<p><b>Two components:</b><br />
1.	Correcting and organizing IRGCIS location data into IRIS format <br />
2.	Correcting germplasm relationships through GID, GPID1 and GPID2, to provide the correct GIDs on which to hang the location data.<br />
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Correcting_and_organizing_location_data"><span class="tocnumber">1</span> <span class="toctext">Correcting and organizing location data</span></a>
<ul>
<li class="toclevel-2"><a href="#IRIS_design_issues"><span class="tocnumber">1.1</span> <span class="toctext">IRIS design issues</span></a></li>
<li class="toclevel-2"><a href="#Data_already_included_in_IRIS"><span class="tocnumber">1.2</span> <span class="toctext">Data already included in IRIS</span></a></li>
<li class="toclevel-2"><a href="#Data_conversion_completed_but_not_in_IRIS"><span class="tocnumber">1.3</span> <span class="toctext">Data conversion completed but not in IRIS</span></a></li>
<li class="toclevel-2"><a href="#Next_steps"><span class="tocnumber">1.4</span> <span class="toctext">Next steps</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Correcting_germplasm_relationships_through_GID.2C_GPID1_and_GPID2"><span class="tocnumber">2</span> <span class="toctext">Correcting germplasm relationships through GID, GPID1 and GPID2</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Correcting_and_organizing_location_data" id="Correcting_and_organizing_location_data"></a><h1> <span class="mw-headline">Correcting and organizing location data</span></h1>
<a name="IRIS_design_issues" id="IRIS_design_issues"></a><h2> <span class="mw-headline">	IRIS design issues</span></h2>
<p>The following are probably the minimal design changes required to enable IRIS to accommodate IRGCIS data:
</p>
<ul><li>       A new location type (LTYPE 413) for a populated place (city, town, village…). (For discussion: do we need more, e.g. to distinguish between cities, towns and villages? Or would that leave us with an impossible data curation task, best left to the geographer &amp; GIS?)
</li><li>	A new field (PPLID) in LOCATION to hold the locid of the nearest town or village to a location (for discussion: is this enough? IRGCIS has separate fields for town and village - should we have 2 PPLIDs, or shall we use the SNL3ID for one?)
</li><li>	A new field (LLPrec) in GEOREF to indicate coordinate precision (i.e. the precision with which latitude/longitude coordinates are displayed by default, not to be confused with accuracy, which refers to how accurately the coordinates represent the true position / centre of a location). I have proposed valid values “D”, “DM”, “DMS” or “DMS.S”
</li><li> A new field (LLSource) in GEOREF to indicate the source of coordinates - Map, GPS, Gazetteer, unknown
</li><li> A new field (LLRef) in GEOREF to point to the reference (map, gazetteer, database, book) containing the data
</li></ul>
<a name="Data_already_included_in_IRIS" id="Data_already_included_in_IRIS"></a><h2> <span class="mw-headline">Data already included in IRIS</span></h2>
<p>Countries: all in IRIS, with lat-long data from CIA.
ADM1 divisions (“provinces”): 
</p>
<ul><li>	all current regions with FIPS AAnn codes, with lat-long data from Geonames where available
</li><li>	all historical regions with FIPS AAnn codes existing at the time IRIS locations were last updated
</li></ul>
<a name="Data_conversion_completed_but_not_in_IRIS" id="Data_conversion_completed_but_not_in_IRIS"></a><h2> <span class="mw-headline">Data conversion completed but not in IRIS</span></h2>
<p>\\netwin\cril\LDMS\GRC-IRIS\CreateFinalMap.mdb contains reorganized data. Key tables containing data for IRIS are:
</p>
<dl><dd><ul><li>	Table NewUDFLDS. Contains the definition of the proposed new location type (413).
</li><li>	Table NewLocations: contains records for new locations to be added to LOCATION and GEOREF in IRIS.
</li><li>	Table LocationChanges: contains corrections to be made to existing LOCATION and GEOREF records in IRIS
</li><li>	Table FinalMap lists all Accession IDs, with values, where available, for GLOCN, GDATE and METHN of their GPID1.
</li></ul>
<dl><dd><ul><li>	Non-null GLOCN means location data are clean for the accession (I hope!). Null GLOCN means location data not checked / converted
</li><li>	GLOCN=LOCID of ORI_COUNTRY for 49,217 accessions with no data on province, district, town, village, latitude, longitude or altitude. Includes values of ORI_COUNTRY that refer to continents or regions, e.g. Africa or Central America, in table NewLocations with ftype 401 or 402
</li><li>	GLOCN=LOCID of PROV for 16,506 accessions with validated data on ORI_COUNTRY and PROV but with all missing data for district, town, village, latitude, longitude and altitude. 
</li></ul>
<dl><dd><ul><li>	Mostly = locid of ADM1 already in IRIS
</li><li>	Some are regions not ADM1 divisions (e.g. Manchuria, Mindanao, in table NewLocations with ftype 403)
</li><li>	Some are ADM2 divisions (e.g. Bontoc, in table NewLocations with ftype 407)
</li><li>	Some are populated places (e.g. Biratnagar, in table NewLocations with ftype 413)
</li></ul>
</dd></dl>
<ul><li>	GLOCN=LOCID of collecting locations assigned to 2,350 IRGC accessions when first loaded into IRIS. These are locations where (a) IRGCIS has non missing data for at least one of latitude, longitude and altitude and (b) there is an exact match between the April 2005 IRGCIS and 1999 IRIS:
</li></ul>
</dd></dl>
</dd></dl>
<p>ALT = GEOREF.ALT and 
(VILLAGE.TOWN.DISTRICT matches LNAME and PROV matches SNL1ID.LNAME; or 
VILLAGE.TOWN.DISTRICT;PROV matches LNAME)
</p>
<dl><dd><ul><li>	METHN = 69 if IRGCIS contains any data showing the original sample was collected from the field. Null METHN means there’s no such data in IRGCIS and we have to look outside IRGCIS for a METHN (e.g. IRIS: in the case of breeding lines, hopefully the GPID1 in IRIS already points to the correct cross). 
</li><li>	GDATE = collecting date if recorded in IRIS (= a subset of accessions with METHN=69). Null METHN means we have to look outside IRGCIS for a GDATE e.g. IRIS: in the case of breeding lines, hopefully the GPID1 in IRIS already points to the correct cross).
</li></ul>
</dd></dl>
<p>In addition to the above tables, there are queries to check / verify:
</p>
<dl><dd><dl><dd><ul><li>	Query VerifyLocations shows IRGCIS location data beside IRIS data, to check whether IRGCIS and IRIS are showing the same information. Note: it takes IRIS data only from the live IRIS, not from the location changes and additions in NewLocations and LocationChanges
</li><li>	Query VerifyGPID1Data tabulates the number of accessions that have same or different values for METHN and IRIS in FinalMap and the live IRIS
</li></ul>
</dd></dl>
</dd></dl>
<a name="Next_steps" id="Next_steps"></a><h2> <span class="mw-headline">Next steps</span></h2>
<table border="1" align="center" width="75%" cellpadding="5" cellspacing="0">
<caption>
</caption><tr>
<th> Who
</th><th> What
</th></tr>
<tr>
<td> Graham / Robert / Ella / Adel
</td><td> Discuss design proposals: <br />
<ul><li>	LTYPE 413=populated place. <br />
</li><li>	Field PPLID in LOCATION<br />
</li><li>	Field LLPrec in Georef<br />
</li></ul>
</td></tr>
<tr>
<td>Arllet? William?
</td><td>	Implement above changes if agreed. <br />
<ul><li>	Add record in NewUDFLDS to UDFLDS<br />
</li><li>	Add field PPLID to LOCATION<br />
</li><li>	Add field LLPrec to GEOREF<br />
</li></ul>
</td></tr>
<tr>
<td>Adel
</td><td> Check my corrections, particularly where I think IRGCIS is wrong, and particularly for “province” that I have not been able to find. Where necessary, cross-reference against original documents
</td></tr>
<tr>
<td>William?
</td><td>	After Adel has finished checking, add new locations to IRIS using table NewLocations
</td></tr>
<tr>
<td>William?
</td><td>	After Adel has finished checking, correct existing locations using table LocationChanges
</td></tr>
<tr>
<td>Adel
</td><td>Separate place names from locality descriptions in IRGCIS:
<ul><li>	Create new field LOCALITY in IRGCIS. 
</li><li>	Populate LOCALITY field with concatenated locality descriptions (e.g. “LAI, 10KM S. OF BERE”, “NEAR LAKE OF LERE”) currently in DISTRICT, TOWN, VILLAGE
</li><li>	Replace locality descriptions in DISTRICT, TOWN and VILLAGE with just place names
</li></ul>
</td></tr>
<tr>
<td>Robert’s GPG2 PDF?
</td><td>Assemble reference data on “districts” (ADM level 2)  – from www.statoids.com? (the Geonames gazetteer assembled by Yunlong is missing too many ADM2 locations to be useful). Add all ADM2 divisions to IRIS? Or just for countries where we have district data to be verified?
</td></tr>
<tr>
<td>&nbsp;?
</td><td>	Check and validate Isaiah’s corrections and Yunlong’s corrections for all other accessions, i.e. those with non-missing values for at least one of district, town, village, locality, latitude, longitude and altitude.
</td></tr>
<tr>
<td>&nbsp;?
</td><td>	Check which locations already have locids defined in IRIS
<p>	Correct location definitions of existing locations in IRIS
</p>
</td></tr>
<tr>
<td>&nbsp;?
</td><td>	Add location definitions for locations not yet defined in IRIS
</td></tr>
<tr>
<td>&nbsp;?
</td><td>	Add GLOCN to the corresponding accessions
</td></tr></table>
<a name="Correcting_germplasm_relationships_through_GID.2C_GPID1_and_GPID2" id="Correcting_germplasm_relationships_through_GID.2C_GPID1_and_GPID2"></a><h1> <span class="mw-headline">Correcting germplasm relationships through GID, GPID1 and GPID2</span></h1>
<p>For each genebank accession,
</p>
<ul><li>	GPID2 should point to the GID representing the donor’s sample
</li><li>	For accessions derived from samples originally collected from the field (farm, market or wild population), GPID1 should point to the GID representing the collected sample.
</li></ul>
<p>IRIS contains many errors in these linkages. We must correct those linkages before we can store donor details and collection details in IRIS.<br />
I corrected a few thousand in 2007 (mainly correcting wrong linkages between INGER and IRGC samples), but most of this task is pending
</p>
<!-- 
NewPP limit report
Preprocessor node count: 24/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
Retrieved from "<a href="http://localhost../../../../articles/g/r/i/GRIMS_location_275b.html">http://localhost../../../../articles/g/r/i/GRIMS_location_275b.html</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="../../../../articles/g/r/i/GRIMS_location_275b.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="../../../../articles/g/r/i/Talk%7EGRIMS_location_9b61.html" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="../../../../articles/g/r/i/GRIMS_location_275b.html" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="../../../../articles/g/r/i/GRIMS_location_275b.html" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="../../../../articles/u/s/e/Special%7EUserLogin_94cd.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../../../misc/icis-wiki3.png);" href="../../../../index.html" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="../../../../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
				<li id="n-portal"><a href="../../../../articles/c/o/m/ICISWiki%7ECommunity_Portal_7449.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="../../../../articles/s/e/a/Special%7ESearch_a8e5.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Search ICISWiki [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="../../../../articles/w/h/a/Special%7EWhatLinksHere_GRIMS_location_3f47.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="../../../../articles/r/e/c/Special%7ERecentChangesLinked_GRIMS_location_bb89.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="../../../../articles/s/p/e/Special%7ESpecialPages_f12b.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="../../../../articles/g/r/i/GRIMS_location_275b.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="../../../../articles/g/r/i/GRIMS_location_275b.html" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="/icis/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
					<li id="credits">This page was last modified 07:48, 6 February 2009 by <a href="../../../../articles/r/h/a/User%7ERhamilton_d1c5.html" title="User:Rhamilton">Ruaraidh</a>. Based on work by <a href="../../../../articles/r/h/e/User%7ERherrera_2c14.html" title="User:Rherrera">Roniela Herrera Prantilla</a>.</li>
					<li id="copyright">Content is available under <a href="../../../../../COPYING.html" class="external " title="../../../../../COPYING.html">GNU Free Documentation License 1.2</a>.</li>
					<li id="privacy"><a href="../../../../articles/p/r/i/ICISWiki%7EPrivacy_policy_0cbf.html" title="ICISWiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="../../../../articles/a/b/o/ICISWiki%7EAbout_53aa.html" title="ICISWiki:About">About ICISWiki</a></li>
					<li id="disclaimer"><a href="../../../../articles/g/e/n/ICISWiki%7EGeneral_disclaimer_9129.html" title="ICISWiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 260.695 secs. --></body></html>
