<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.14.0" />
		<meta name="keywords" content="DArT Bulk Loading,Loading of DArT Data into ICIS" />
		<link rel="shortcut icon" href="../../../../misc/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="../../../../../opensearch_desc.php" title="ICISWiki (en)" />
		<link title="Creative Commons" type="application/rdf+xml" href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" rel="alternate meta" />
		<link rel="copyright" href="../../../../../COPYING.html" />
		<link rel="alternate" type="application/rss+xml" title="ICISWiki RSS Feed" href="http://localhost../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" />
		<link rel="alternate" type="application/atom+xml" title="ICISWiki Atom Feed" href="http://localhost../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" />
		<title>DArT Bulk Loading - ICISWiki</title>
		<link rel="stylesheet" href="../../../../skins/common/shared.css?195" type="text/css" media="screen" />
		<link rel="stylesheet" href="../../../../skins/common/commonPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="../../../../skins/monobook/main.css?195" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="../../../../skins/monobook/IE50Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="../../../../skins/monobook/IE55Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="../../../../skins/monobook/IE60Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="../../../../skins/monobook/IE70Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7ECommon.css?195" type="text/css" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7EPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/MediaWiki%7EMonobook.css?195" type="text/css" />
		<link rel="stylesheet" href="../../../../skins/../../../../raw/gen.css?195" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="../../../../skins/common/IEFixes.js?195"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "../../../../skins";
		var wgArticlePath = "../../../../$1";
		var wgScriptPath = "../../../../..";
		var wgScript = "/icis/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://localhost";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "DArT_Bulk_Loading";
		var wgTitle = "DArT Bulk Loading";
		var wgAction = "view";
		var wgArticleId = "3489";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = "12279";
		var wgVersion = "1.14.0";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="../../../../skins/common/wikibits.js?195"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="../../../../raw/gen.js"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-DArT_Bulk_Loading skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">DArT Bulk Loading</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From ICISWiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#Steps_in_Loading_Large_DArT_datasets"><span class="tocnumber">2</span> <span class="toctext">Steps in Loading Large DArT datasets</span></a>
<ul>
<li class="toclevel-2"><a href="#Get_GIDs_used_in_the_Dataset"><span class="tocnumber">2.1</span> <span class="toctext">Get GIDs used in the Dataset</span></a></li>
<li class="toclevel-2"><a href="#Transform_DArT_datasets"><span class="tocnumber">2.2</span> <span class="toctext">Transform DArT datasets</span></a></li>
<li class="toclevel-2"><a href="#Execute_java_code_for_uploading_DArT"><span class="tocnumber">2.3</span> <span class="toctext">Execute java code for uploading DArT</span></a></li>
<li class="toclevel-2"><a href="#Load_Data_to_MySQL"><span class="tocnumber">2.4</span> <span class="toctext">Load Data to MySQL</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Loading_Time"><span class="tocnumber">3</span> <span class="toctext">Loading Time</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction" id="Introduction"></a><h2> <span class="mw-headline">Introduction</span></h2>
<p>DArT data is usually large that the ICIS workbook cannot accommodate loading such datasets.  DArT datasets comes in a matrix format. More information on DArT datasets on ICIS can be found <a href="../../../../articles/l/o/a/Loading_of_DArT_Data_into_ICIS_0db4.html" title="Loading of DArT Data into ICIS">here</a>.  Since DArT datasets have very similar data formats, a small java code was created to transform the matrix format into data files which can be loaded to MySQL as batch files.
</p><p><a href="../../../../articles/d/a/r/File%7EDArT_sampleData.JPG_6896.html" class="image" title="Image:DArT_sampleData.JPG"><img alt="Image:DArT_sampleData.JPG" src="../../../../images/1/1b/DArT_sampleData.JPG" width="640" height="520" border="0" /></a>
</p>
<a name="Steps_in_Loading_Large_DArT_datasets" id="Steps_in_Loading_Large_DArT_datasets"></a><h2> <span class="mw-headline">Steps in Loading Large DArT datasets</span></h2>
<a name="Get_GIDs_used_in_the_Dataset" id="Get_GIDs_used_in_the_Dataset"></a><h3> <span class="mw-headline">Get GIDs used in the Dataset</span></h3>
<p>If the CID and SID comes with the dataset, corresponding GID for the CID and SID pair is retrieved from the GMS database.  If there is no CID and SID given for the dataset, GID is requested from UQ.
</p>
<a name="Transform_DArT_datasets" id="Transform_DArT_datasets"></a><h3> <span class="mw-headline">Transform DArT datasets</span></h3>
<p>The Dataset is transformed into a format similar to the workbook format for loading small DArT datasets. The first few columns are reserved for the factor values (Dart Clone, PDID, MDID, Marker). 
</p><p><b>Getting the Marker ID (MD or MDID)</b>
</p>
<dl><dd>Each DArT clone is treated as a the Marker Detector. Each clone will have a marker name assigned by Triticart.  If a clone does not have a name assigned by Triticarte, a name will be assigned to it using "TC" appended by the cloneID. 
</dd></dl>
<dl><dd>For example: A clone ID = 10000 will be assigned a clone name = TC10000
</dd></dl>
<dl><dd>After populating the Marker column,the MD and PD columns will be populated by the Marker ID and PDID values retrieved from the GEMS database using the ICIS workbook Get Marker ID tool.  A new marker ID is assigned to MDID if the marker name does not exist in the database.
</dd></dl>
<p><b>Assigning MV NAMES</b>
</p>
<dl><dd>The name of the Molecular Variant is the same as the Marker Detector but will have a different MVID since the MVID is retrieved from the GEMS database.
</dd></dl>
<p><b>MV STATE Values</b>
</p>
<dl><dd>The STATE has values + for present, - for absent, * for missing. These correspond to the 0, 1 and X data from Triticart.
</dd></dl>
<p><b>Summary Data</b>
</p>
<dl><dd>Summary data like Callrate, PIC and Q were not included in the Dataset loading.  Summary Data can be loaded as a different dataset.
</dd></dl>
<p>From the original format:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="../../../../articles/d/w/0/File%7EDw07_orig_dataset.JPG_8a9d.html" class="image" title="Dw07 orig dataset.JPG"><img alt="" src="../../../../images/thumb/6/62/Dw07_orig_dataset.JPG/600px-Dw07_orig_dataset.JPG" width="600" height="448" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../../articles/d/w/0/File%7EDw07_orig_dataset.JPG_8a9d.html" class="internal" title="Enlarge"><img src="../../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div></div>
<p><br />
Data is transformed to this format:
<br />
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="../../../../articles/d/w/0/File%7EDw07_formatted.JPG_400a.html" class="image" title="Dw07 formatted.JPG"><img alt="" src="../../../../images/thumb/7/77/Dw07_formatted.JPG/600px-Dw07_formatted.JPG" width="600" height="448" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../../articles/d/w/0/File%7EDw07_formatted.JPG_400a.html" class="internal" title="Enlarge"><img src="../../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div></div>
<p><b>Format for the succeeding worksheets</b>
</p><p>If there are more than one worksheet, do not include the factor columns for the succeeding worksheets.   
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="../../../../articles/d/w/0/File%7EDw07_formatted2.JPG_d518.html" class="image" title="Dw07 formatted2.JPG"><img alt="" src="../../../../images/thumb/5/5a/Dw07_formatted2.JPG/600px-Dw07_formatted2.JPG" width="600" height="448" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../../articles/d/w/0/File%7EDw07_formatted2.JPG_d518.html" class="internal" title="Enlarge"><img src="../../../../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div></div>
<p><b> Save worksheets as text files</b>
</p><p>Save the worksheet/s into a single folder. Make sure that the filename for the worksheet with factor values comes first.   A macro was created to save all worksheets for a given dataset into a single folder.
</p>
<a name="Execute_java_code_for_uploading_DArT" id="Execute_java_code_for_uploading_DArT"></a><h3> <span class="mw-headline">Execute java code for uploading DArT</span></h3>
<p>A simple java code was used to create files which can be executed in mysql as batch files.  Since most of the data is stored in the data_c, data_n and oindex tables, a file is created for each of these tables.  Data for all the other tables are stored in the study.sql file.
</p>
<ul><li>Study.sql - this file contains insert statements for DMS tables: study, factor, effect,level_n, level_c , veffect and variate tables
</li><li>datac.sql -  this file is used to load data into the data_c table
</li><li>datan.sql -  this file is used to load data into the data_n table
</li><li>oindex.sql - this file is used to load data into the oindex tables
</li></ul>
<a name="Load_Data_to_MySQL" id="Load_Data_to_MySQL"></a><h3> <span class="mw-headline">Load Data to MySQL</span></h3>
<p>To load the Study.sql file into the database:
</p>
<pre>mysql prompt&gt; source &lt;path to file&gt;;
</pre>
<p>In MySQL, loading of bulk data is faster using the <b>load data</b> syntax.  The datac, datan and oindex sql files do not have insert statements. They contain comma delimited data for data_c, data_n and oindex tables.
To load data from this three files:
</p>
<pre>mysql prompt&gt; load data infile &lt;path to file&gt; into fields terminated by ',';
</pre>
<p><br />
</p>
<a name="Loading_Time" id="Loading_Time"></a><h2> <span class="mw-headline">Loading Time</span></h2>

<!-- 
NewPP limit report
Preprocessor node count: 10/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
Retrieved from "<a href="http://localhost../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html">http://localhost../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="../../../../articles/d/a/r/Talk%7EDArT_Bulk_Loading_6d7f.html" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" title="Past versions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="../../../../articles/u/s/e/Special%7EUserLogin_94cd.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../../../misc/icis-wiki3.png);" href="../../../../index.html" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="../../../../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
				<li id="n-portal"><a href="../../../../articles/c/o/m/ICISWiki%7ECommunity_Portal_7449.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-recentchanges"><a href="../../../../articles/r/e/c/Special%7ERecentChanges_e0d0.html" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="../../../../articles/s/e/a/Special%7ESearch_a8e5.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Search ICISWiki [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="../../../../articles/w/h/a/Special%7EWhatLinksHere_DArT_Bulk_Loading_7453.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="../../../../articles/r/e/c/Special%7ERecentChangesLinked_DArT_Bulk_Loading_b223.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="../../../../articles/s/p/e/Special%7ESpecialPages_f12b.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="../../../../articles/d/a/r/DArT_Bulk_Loading_3240.html" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="/icis/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
					<li id="credits">This page was last modified 00:58, 9 April 2008 by <a href="../../../../articles/r/v/a/User%7ERvalerio_c9de.html" title="User:Rvalerio">Rowena Valerio</a>. </li>
					<li id="copyright">Content is available under <a href="../../../../../COPYING.html" class="external " title="../../../../../COPYING.html">GNU Free Documentation License 1.2</a>.</li>
					<li id="privacy"><a href="../../../../articles/p/r/i/ICISWiki%7EPrivacy_policy_0cbf.html" title="ICISWiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="../../../../articles/a/b/o/ICISWiki%7EAbout_53aa.html" title="ICISWiki:About">About ICISWiki</a></li>
					<li id="disclaimer"><a href="../../../../articles/g/e/n/ICISWiki%7EGeneral_disclaimer_9129.html" title="ICISWiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 304.903 secs. --></body></html>
